get message count
{ try { return this local store get database execute false new db callback integer { override public integer do db work final sqlite database db throws wrapped exception { try { open } catch messaging exception e { throw new wrapped exception e } cursor cursor = null try { cursor = db raw query select count id from messages " + where empty = 0 and deleted = 0 and folder id = ?", new string { long to string database id }); cursor move to first return cursor get int } finally { utility close quietly cursor } } }); } catch wrapped exception e { throw messaging exception e get cause }}
messagecount
