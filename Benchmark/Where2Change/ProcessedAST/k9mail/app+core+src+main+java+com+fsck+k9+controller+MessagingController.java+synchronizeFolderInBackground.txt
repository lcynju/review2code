synchronize folder in background
{ timber v folder s was last synced @ tc folder get server id folder get last checked if ignore last checked time { long last checked time = folder get last checked long now = system current time millis if last checked time > now { } else { long sync interval = account get automatic check interval minutes * l * l long next sync time = last checked time + sync interval if next sync time > now { timber v not syncing folder s previously synced @ tc which would be too recent for the " + account sync interval folder get server id last checked time return } } } try { show fetching mail notification if necessary account folder try { synchronize mailbox synchronous account folder get database id listener notification state } finally { clear fetching mail notification if necessary account } } catch exception e { timber e e exception while processing folder s s account get description folder get server id }}
// the time this folder was last checked lies in the future we better ignore this and sync now
